@model WeatherForecastApplication.Models.WeatherData
@using static WeatherForecastApplication.Extensions.DateTimeExtension

@{
    ViewData["Title"] = "Weather";
}

<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Weather</title>
</head>
<body>
    @if (Model != null)
    {
        <h2>Weather in @Model.Name (@Model.Sys.Country)</h2>
        <p>Temperature: @Model.Main.Temp &deg;C</p>
        <p>Feels Like: @Model.Main.FeelsLike &deg;C</p>
        <p>Min Temperature: @Model.Main.TempMin &deg;C</p>
        <p>Max Temperature: @Model.Main.TempMax &deg;C</p>
        <p>Pressure: @Model.Main.Pressure hPa</p>
        <p>Humidity: @Model.Main.Humidity %</p>
        <p>Wind Speed: @Model.Wind.Speed m/s</p>
        <p>Wind Direction: @Model.Wind.Deg &deg;</p>
        <p>Visibility: @Model.Visibility m</p>
        <p>Cloudiness: @Model.Weather.FirstOrDefault()?.Description</p>
        <p>Sunrise: @Model.Sys.Sunrise.ToLocalTime()</p>
        <p>Sunset: @Model.Sys.Sunset.ToLocalTime()</p>
        @if (Model.Rain != null)
        {
            <p>Rain (last 1 hour): @Model.Rain.OneHour mm</p>
            <p>Rain (last 3 hours): @Model.Rain.ThreeHours mm</p>
        }
    }

    @if (!ViewData.ModelState.IsValid)
    {
        <ul>
            @foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
            {
                <li>@error.ErrorMessage</li>
            }
        </ul>
    }
</body>
</html>
